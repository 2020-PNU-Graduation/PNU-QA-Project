<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>HTML 문서에서 테이블 추출</title>

    <script type="text/javascript">
	window.onload = function() {
	    //제출하기 clickListener
		document.getElementById("submit").onclick = function() { // on click
		    loadFileAsText()
		}
	}
	//HTML File -> show table
	function loadFileAsText(){
        var fileToLoad = document.getElementById("fileToLoad").files[0];
        var fileReader = new FileReader();
        fileReader.onload = function(fileLoadedEvent){
            //불러온 텍스트 파일
            var textFromFileLoaded = fileLoadedEvent.target.result;
            //html 형식
            var html = new DOMParser().parseFromString(textFromFileLoaded, "text/html");
            //table 추출
            var table = html.querySelector("table");
            //원문 html 문자열
            var htmlString = html.documentElement.outerHTML
            //테이블 표시
            document.getElementById("disp").appendChild(table);
            //원문 표시
            document.getElementById("html").innerHTML = htmlString
        };
        fileReader.readAsText(fileToLoad, "UTF-8");
    }



    </script>

</head>
<body>
<hr>
<body>
<form action="http://127.0.0.1:5000/result" method="POST">
    <input type="file" id="fileToLoad" accept="html/*"/>
</form>
</body>
<button id="submit">제출하기</button>
<br>
<br>
<hr>
<div id="disp">표 출력</div>
<br>
<br>
<hr>
<div id="html">원문 출력</div>

</body>
</html>